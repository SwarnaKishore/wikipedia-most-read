(this["webpackJsonpwikipedia-most-read"]=this["webpackJsonpwikipedia-most-read"]||[]).push([[0],{88:function(e,t,a){},89:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(0),s=a.n(r),i=a(12),c=a.n(i),o=(a(88),a(43)),l=a(44),d=a(48),h=a(47),j=(a(89),a(136)),u=a(132),g=a(138),b=a(70),m=a(64),p=a.n(m),O=a(150),x=a(137),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.article,t=e.content_urls&&e.content_urls.desktop&&e.content_urls.desktop.page?e.content_urls.desktop.page:"",a=e.thumbnail&&Object(n.jsx)(u.a,{className:"Card-media",image:e.thumbnail.source,title:e.title}),r=Object(n.jsx)(O.a,{size:"small",icon:Object(n.jsx)(p.a,{}),label:e.views+" views"});return Object(n.jsx)(s.a.Fragment,{children:function(){if(a)return Object(n.jsx)("a",{className:"contentUrl",rel:"noreferrer",href:t,target:"_blank",children:Object(n.jsx)(j.a,{className:"Card",children:Object(n.jsxs)(x.a,{children:[a,Object(n.jsxs)(g.a,{children:[Object(n.jsxs)(b.a,{className:"Card-title",gutterBottom:!0,variant:"h5",component:"h2",children:[" ",e.title]}),Object(n.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:e.description}),Object(n.jsx)(b.a,{className:"Card-views",children:r})]})]})})})}()})}}]),a}(r.Component),v=a(139),y=a(144),k=a(143),D=a(142),w=a(15),R=a(147),M=a(65),A=a(146),C=a(141),F=a(66),S=a(149),N=a(145),W=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={mostReadArticles:[],selectedDateForArticles:new Date((new Date).setDate((new Date).getDate()-1)),loading:!0,noResultsReturned:"",alertMessage:""},e.handleDateChange=function(t){e.setState({selectedDateForArticles:new Date(t)}),e.getMostReadArticles(t)},e.getRequestURL=function(e){(e=new Date(e)).setDate(e.getDate()+1);var t=1===(e.getMonth()+1).toString().length?"0"+(e.getMonth()+1):e.getMonth()+1,a=1===e.getDate().toString().length?"0"+e.getDate():e.getDate();return"https://en.wikipedia.org/api/rest_v1/feed/featured/"+e.getFullYear()+"/"+t+"/"+a},e.getMostReadArticles=function(t){e.setState({loading:!0});var a=e.getRequestURL(t);fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({mostReadArticles:t&&t.mostread&&t.mostread.articles?t.mostread.articles:[],loading:!1,noResultsReturned:t&&t.mostread&&t.mostread.articles?"":"No results returned",alertMessage:t&&t.mostread&&t.mostread.articles?"":"Please make sure to select the previous dates excluding current and future dates for retrieving most read articles."})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getMostReadArticles(this.state.selectedDateForArticles)}},{key:"render",value:function(){var e=this,t=this.state.mostReadArticles,a=this.state.selectedDateForArticles,r=this.state.loading,i=this.state.noResultsReturned,c=this.state.alertMessage;console.log(a,t,"render");var o=function(){return Object(n.jsx)(w.a,{utils:M.a,children:Object(n.jsx)(v.a,{container:!0,justify:"space-around",children:Object(n.jsx)(R.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Select Date",value:a,onChange:e.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})})})};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(k.a,{position:"relative",className:"App-bar",children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(F.a,{className:"Wiki-icon"}),Object(n.jsx)(b.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Wikipedia Most Read"})]})}),Object(n.jsxs)(y.a,{maxWidth:"lg",children:[Object(n.jsxs)(y.a,{maxWidth:"sm",children:[Object(n.jsx)(b.a,{component:"h3",variant:"h3",align:"center",color:"textPrimary",gutterBottom:!0,className:"App-header",children:"Wikipedia Most Read"}),Object(n.jsxs)(b.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["Check out the most read wikipedia articles for a selected date below.   ",Object(n.jsx)("span",{children:"By default displaying the most read articles for yesterday."})]}),Object(n.jsx)(o,{})]}),t&&0===t.length&&!0===r?Object(n.jsx)(C.a,{}):"",Object(n.jsxs)(v.a,{container:!0,justify:"center",spacing:10,className:"Articles-container",children:[i&&i.length>0&&!1===r?Object(n.jsxs)(S.a,{severity:"warning",children:[Object(n.jsx)(N.a,{children:i}),c]}):"",t.map((function(e,t){return Object(n.jsx)(v.a,{item:!0,children:Object(n.jsx)(f,{article:e})},t)}))]})]}),function(){if(t.length>0)return Object(n.jsx)("footer",{children:Object(n.jsxs)(b.a,{variant:"body2",color:"textSecondary",align:"center",className:"FooterStyle",children:["Copyright \xa9 ",Object(n.jsx)(A.a,{color:"inherit",href:"https://swarnakishore.github.io/wikipedia-most-read/",children:"Wikipedia Most Read"})," ",(new Date).getFullYear(),"."]})})}()]})}}]),a}(r.Component),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,153)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(W,{})}),document.getElementById("root")),B()}},[[97,1,2]]]);
//# sourceMappingURL=main.9da73322.chunk.js.map